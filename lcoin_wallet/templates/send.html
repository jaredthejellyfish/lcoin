{% extends "layout.html" %}
{% block content %}
<body class="background">
   <div class="flex-container">
      <div class="flex-child" style="margin-left: 3%;">
         <p class="wallet" style="margin-bottom:40px; margin-top:40px;">Send</p>
      </div>
      <div class="flex-child" style="text-align:right; margin-right: 10%;">
         <p class="done" style="margin-bottom:40px;"><a href="{{url_for('home')}}" style="color: #f9a241;">⨉</a></p>
      </div>
   </div>
   <fieldset class="form-group">
      <div class="wallet-holder">
         <div class="form-container">
            <form method="POST" action="" enctype="multipart/form-data">
               {{ form.hidden_tag() }}
               <div class="form-group">
                  {{ form.to.label(class="dark-text-form") }}
                  {% if form.to.errors %}
                  {{ form.to(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                     {% for error in form.to.errors %}
                     <span class="error-text">{{ error }}</span>
                     {% endfor %}
                  </div>
                  {% else %}
                  {{ form.to(class="form-control form-control-lg") }}
                  {% endif %}
               </div>
               <div class="form-group">
                  {{ form.amount.label(class="dark-text-form") }}
                  {% if form.amount.errors %}
                  {{ form.amount(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                     {% for error in form.amount.errors %}
                     <span class="error-text">{{ error }}</span>
                     {% endfor %}
                  </div>
                  {% else %}
                  {{ form.amount(class="form-password form-control form-control-lg") }}
                  {% endif %}
               </div>
               <div class="form-group">
                  {{ form.concept.label(class="dark-text-form ") }}
                  {% if form.concept.errors %}
                  {{ form.concept(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                     {% for error in form.concept.errors %}
                     <span class="error-text">{{ error }}</span>
                     {% endfor %}
                  </div>
                  {% else %}
                  {{ form.concept(class="textarea") }}
                  {% endif %}
               </div>
               <div style="width: 100%; text-align:center; margin-top:-15px;">
                  <div class="form-group" style="padding-bottom: 5px;">{{ form.submit(class="button-submit button") }}</div>
               </div>
         </div>
      </div>
      </div>

      </form>
   </fieldset>
   </div>
   {% if requests | length > 0 %}
   <p class="dark-text" style="font-size: 90%; margin-left: 5%; margin-top: 15px; margin-bottom: 40px;">Transactions</p>
   <div class="wallet-holder">
      <p class="dark-text" style="font-size: 90%; padding-left: 3%; padding-top: 15px; padding-bottom: 10px;">Sent</p>
      <div name="transaction" class="flex-container" style="margin-top: -20px; padding-left: 4%; position:relative;">
         <div class="flex-child" >
            <p class="bold_text" style="margin-left: 0;">{{requests[0].to}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-left: 0; font-size: 80%;">{{requests[0].date.strftime('%d-%m-%Y')}}</p>
         </div>
         <div class="flex-child" style="text-align: right;">
            <p class="bold_text" style="margin-right: 10%;">- ₺{{requests[0].amount}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-right: 10%; font-size: 80%;">- {{(0.00025 * (requests[0].amount | float) | round(6))}} BTC</p>
         </div>
      </div>

      {% if requests | length > 1 %}
      <hr class="dashed" style="margin-top: 10px; opacity: 0.5;">
      <div name="transaction" class="flex-container" style="margin-top: -20px; padding-left: 4%; position:relative;">
         <div class="flex-child" >
            <p class="bold_text" style="margin-left: 0;">{{requests[1].to}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-left: 0; font-size: 80%;">{{requests[1].date.strftime('%d-%m-%Y')}}</p>
         </div>
         <div class="flex-child" style="text-align: right;">
            <p class="bold_text" style="margin-right: 10%;">- ₺{{requests[1].amount}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-right: 10%; font-size: 80%;">- {{(0.00025 * (requests[1].amount | float) | round(6))}} BTC</p>
         </div>
      </div>
      
      {% if requests | length > 2 %}
      <hr class="dashed" style="margin-top: 10px; opacity: 0.5;">
      <div name="transaction" class="flex-container" style="margin-top: -20px; padding-left: 4%; position:relative;">
         <div class="flex-child" >
            <p class="bold_text" style="margin-left: 0;">{{requests[2].to}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-left: 0; font-size: 80%;">{{requests[2].date.strftime('%d-%m-%Y')}}</p>
         </div>
         <div class="flex-child" style="text-align: right;">
            <p class="bold_text" style="margin-right: 10%;">- ₺{{requests[2].amount}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-right: 10%; font-size: 80%;">- {{(0.00025 * (requests[2].amount | float) | round(6))}} BTC</p>
         </div>
      </div>


      {% if requests | length > 3 %}
      <hr class="dashed" style="margin-top: 10px; opacity: 0.5;">
      <div name="transaction" class="flex-container" style="margin-top: -20px; padding-left: 4%; position:relative;">
         <div class="flex-child" >
            <p class="bold_text" style="margin-left: 0;">{{requests[3].to}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-left: 0; font-size: 80%;">{{requests[3].date.strftime('%d-%m-%Y')}}</p>
         </div>
         <div class="flex-child" style="text-align: right;">
            <p class="bold_text" style="margin-right: 10%;">- ₺{{requests[3].amount}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-right: 10%; font-size: 80%;">- {{(0.00025 * (requests[3].amount | float) | round(6))}} BTC</p>
         </div>
      </div>


      {% if requests | length > 4 %}
      <hr class="dashed" style="margin-top: 10px; opacity: 0.5;">
      <div name="transaction" class="flex-container" style="margin-top: -20px; padding-left: 4%; position:relative;">
         <div class="flex-child" >
            <p class="bold_text" style="margin-left: 0;">{{requests[4].to}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-left: 0; font-size: 80%;">{{requests[4].date.strftime('%d-%m-%Y')}}</p>
         </div>
         <div class="flex-child" style="text-align: right;">
            <p class="bold_text" style="margin-right: 10%;">- ₺{{requests[4].amount}}</p>
            <p class="dark-text" style="margin-top: -10px; margin-right: 10%; font-size: 80%;">- {{(0.00025 * (requests[4].amount | float) | round(6))}} BTC</p>
         </div>
      </div>


      {% endif %}
      {% endif %}
      {% endif %}
      {% endif %}
      {% endif %}
      <div class="separator"></div>
   </div>
</body>
{% endblock content %}